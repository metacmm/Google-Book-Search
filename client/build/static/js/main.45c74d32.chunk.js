(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(67)},40:function(e,t,a){},41:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(30),r=a.n(l),c=(a(40),a(9)),i=a(10),s=a(12),u=a(11),m=a(13),d=a(32),v=a(7);a(41);var f=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement("a",{className:"navbar-brand",href:"#"},"Navbar"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item active"},o.a.createElement("a",{className:"nav-link",href:"/home"},"Home ",o.a.createElement("span",{className:"sr-only"},"(current)"))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"/save"},"Link")))))};var h=function(){return o.a.createElement("div",{className:"jumbotron jumbotron-fluid"},o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"display-4"},"Google Book Search"),o.a.createElement("p",{className:"lead"},"Search for and Save Books of Interest")))},g=a(31),p=a(15);a(42);function b(e){return o.a.createElement("button",{id:e.id,onClick:e.handleClickEvent},"Delete")}function E(e){return o.a.createElement("button",{id:e.id,onClick:e.handleClickEvent},"Save")}function k(e){var t=e.children;return o.a.createElement("div",null,t)}function w(e){var t=e.isSavePage?o.a.createElement(b,{id:e.id,handleClickEvent:e.handleDeleteBook}):o.a.createElement(E,{id:e.id,handleClickEvent:e.handleSaveBook});return o.a.createElement("div",{className:"border p-4 m-2"},o.a.createElement("div",{className:"row d-flex justify-content-between"},o.a.createElement("div",{className:"col-11"},o.a.createElement("h5",null,e.title)),o.a.createElement("div",{className:"d-flex px-2 col-1"},o.a.createElement("button",null,o.a.createElement("a",{href:e.link},"view")),t)),o.a.createElement("div",{className:"row"},o.a.createElement("p",{className:"card-text"},o.a.createElement("small",{className:"text-muted"},"written by: ",e.author))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-2"},o.a.createElement("img",{src:e.image})),o.a.createElement("div",{className:"col-md-10"},o.a.createElement("p",null,e.description))))}var N=a(16),j=a.n(N),O={getAll:function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:""}).GOOGLE_BOOK_APIKEY,a="https://www.googleapis.com/books/v1/volumes?q=".concat(e,"+intitle&key=").concat(t);return j.a.get(a)},getSaved:function(){return j.a.get("/api/books")},deleteBook:function(e){return j.a.delete("/api/books/"+e)},saveBook:function(e){return j.a.post("/api/books",e)}},S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={books:[],title:""},a.handleSubmit=function(e){e.preventDefault(),O.getAll(a.state.title).then(function(e){console.log(e.data.items),a.setState({books:e.data.items.map(function(e){return{title:e.volumeInfo.title,author:e.volumeInfo.authors?e.volumeInfo.authors.join(","):"",description:e.volumeInfo.description,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"",link:e.volumeInfo.previewLink}})})})},a.handleInputChange=function(e){console.log(e.target);var t=e.target,n=t.name,o=t.value;console.log(Object(p.a)(Object(p.a)(a))),a.setState(Object(g.a)({},n,o))},a.handleSaveBook=function(e){console.log(e.target);var t=e.target.id;console.log(t),O.saveBook(a.state.books[t]).then(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"border p-3 m-2"},o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"searchBookInput"},"Search Book"),o.a.createElement("input",{type:"text",className:"form-control",name:"title",id:"searchBookInput",value:this.state.value,onChange:this.handleInputChange})),o.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSubmit},"Search"))),o.a.createElement(k,null,this.state.books.map(function(t,a){return o.a.createElement(w,Object.assign({},t,{key:a,id:a,handleSaveBook:e.handleSaveBook}))})))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={books:[],isSavePage:!0},a.handleDeleteBook=function(e){var t=e.target.id;console.log(e.target),O.deleteBook(t).then(function(e){console.log(e),a.loadSavedBook()})},a.loadSavedBook=function(){O.getSaved().then(function(e){console.log(e),a.setState({books:e.data})})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadSavedBook()}},{key:"render",value:function(){var e=this;return o.a.createElement(k,null,this.state.books.map(function(t){return o.a.createElement(w,Object.assign({},t,{key:t._id,id:t._id,isSavePage:e.state.isSavePage,handleDeleteBook:e.handleDeleteBook}))}))}}]),t}(n.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement("div",{className:"container-fluid"},o.a.createElement(f,null),o.a.createElement(h,null),o.a.createElement(v.c,null,o.a.createElement(v.a,{exact:!0,path:"/save",component:B}),o.a.createElement(v.a,{component:S}))))}}]),t}(n.Component),C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(y,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");C?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):I(e)})}}()}},[[35,1,2]]]);
//# sourceMappingURL=main.45c74d32.chunk.js.map